<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Bar Animation</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .progress-container {
            display: none;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h3 class="text-center">Progress Bar Animation Example</h3>

    <!-- Button to trigger progress bars animation -->
    <div class="text-center mt-4">
        <button id="uploadButton" class="btn btn-primary">Upload File</button>
    </div>

    <!-- Container for the progress bars (initially hidden) -->
    <div id="progressContainer" class="progress-container mt-4">
        <!-- Progress Bar 1 -->
        <div class="progress mb-2">
            <div id="progressBar1" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%; background-color: #007bff;" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <!-- Progress Bar 2 -->
        <div class="progress mb-2">
            <div id="progressBar2" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%; background-color: #28a745;" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <!-- Progress Bar 3 -->
        <div class="progress mb-2">
            <div id="progressBar3" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%; background-color: #ffc107;" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <!-- Progress Bar 4 -->
        <div class="progress mb-2">
            <div id="progressBar4" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%; background-color: #dc3545;" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>
</div>

<!-- jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    $(document).ready(function() {
        // Button click event
        $('#uploadButton').click(function() {
            $('#progressContainer').fadeIn(); // Show the progress container
            animateProgressBars(); // Start the animation
        });

        function animateProgressBars() {
            let progressBar1 = $('#progressBar1');
            let progressBar2 = $('#progressBar2');
            let progressBar3 = $('#progressBar3');
            let progressBar4 = $('#progressBar4');

            animateSingleProgressBar(progressBar1, 0, function() {
                animateSingleProgressBar(progressBar2, 0, function() {
                    animateSingleProgressBar(progressBar3, 0, function() {
                        animateSingleProgressBar(progressBar4, 0);
                    });
                });
            });
        }

        function animateSingleProgressBar(progressBar, progress, callback) {
            let interval = setInterval(function() {
                if (progress < 100) {
                    progress++;
                    progressBar.css('width', progress + '%').attr('aria-valuenow', progress);
                } else {
                    clearInterval(interval); // Stop the current interval when 100% is reached
                    if (callback) callback(); // Call the callback to start the next progress bar
                }
            }, 100);
        }
    });
</script>

</body>
</html>
